---
export interface Props {
	text: string;
}

const { text } = Astro.props;

console.log(text);
let chars = text.split(' ');
let wordFreq: {[word: string]: number} = {};
for (let i = 0; i < chars.length; i++) {
    if (!(chars[i] in wordFreq)) {
        wordFreq[chars[i]] = 1;
    } else {
        wordFreq[chars[i]] += 1;
    }
}
---
<script is:inline src="https://cdn.jsdelivr.net/npm/chart.js"></script>

<script defer>
  const ctx = document.getElementById("myChart");
  console.log(wordFreq);

  new Chart(ctx, {
    type: "bar",
    data: {
      labels: ["Red", "Blue", "Yellow", "Green", "Purple", "Orange"],
      datasets: [
        {
          label: "# of Votes",
          data: [5, 19, 3, 5, 2, 3],
          borderWidth: 1,
        },
      ],
    },
    options: {
      scales: {
        y: {
          beginAtZero: true,
        },
      },
    },
  });
</script>

<canvas id="myChart"></canvas>
